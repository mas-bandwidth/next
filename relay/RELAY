DONE

RELAY

	Extend the relay backend and server backends so they have required env vars "RELAY_PING_KEY" as base64

	Verify it decodes to 32 bytes of data.

	Fail if it's not supplied.

	-------

	Add something to generate ping key to next tool.

	Add ping key base64 to the local.env

	-------

	Plumb the relay ping key from the relay backend to relays in the relay update response

	Store the relay ping key on the relay when the relay update response is received (repeatedly), eg. pass it to the ping thread via message, and to the relay threads via control message.

	Do not send any pings from the relay until we have a valid ping key.

	-------

	Plumb the relay ping key up from the server backend (read env var) to the handlers when session update is processed.

	Actually calculate and send down the ping token signatures and the expire timestamp to the SDK in the session update handler.

	-------

	Add enough logs to verify everything gets passed down to the client as expected.

	Verify that when the whole system is brought up, the client 

	-------

	Make relay ignore expired near relay ping packets

	Make relay ignore near relay packets when signature doesn't verify.

	-------

	Verify that happy path passes

	Verify that func tests pass

	-------
















	-------

	Now we can do the same with relay <-> relay pings.

	Extend the relay ping packet to include 32 byte signature and expire timestamp (2 seconds in future?)

	When processing relay ping packet, ignore if it's expired.

	When processing relay ping packet, ignore if signature doesn't verify.

	-------











































	------------------

	Debug why the happy path is not working on linux

	------------------

	Relay should have functional tests, separate from sdk func tests, and runnable inside semaphore.

	Start with the absolute basics of the relay functionality, and test everything from top to bottom.

	------------------

	Relay should have load test harness framework (totally separate from the SDK and backend...)

	------------------

	Relay should be load tested in google cloud (driven by terraform)

	------------------

	Relay should be load tested in bare metal with 1G NIC, 10G NIC

	------------------
