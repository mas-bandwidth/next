DONE

	Sketch out redis counters

	Make sure the duplicate timestamp policy is set to allow (if possible...)

	Optimize insertion of counters by summing values per-publisher, and only actually sending a message once per-second

	Implement counters for session updates per-minute

TODO

	Add a watcher for counters in api.go

	Add the counters to the admin data returned to portal

	Verify redis counters are working in dev by session updates per-second graph (divide by 60 when presenting)

	----------------

	Extend to support server updates per-second

	----------------

	retries

	----------------

	fallback to direct

	----------------

	long session update

	-----------

	Stop work and get ready for Lisbon trip!

























































	--------------

	Extend the admin page to collapse from two columns down to one column on mobile	

	--------------

	Add more admin counters

		unknown datacenter

		datacenter not enabled

		no route

		stale route matrix

		aborted

		no relays in datacenter

		no near relays

		no route relays

		route relay no longer exists

		route no longer exists

	--------------

	Bring across the styling to widen the graphs in buyer, relay and admin pages on mobile

	--------------

	Add route shader to buyer data

	--------------

	Implement relay page graphs

	--------------

	Implement the small map in the sidebar

	--------------

	Implement the large map in the main page

	--------------











Extra work found when finishing portal:

	--------------

	Need to double check that we remove event listeners on unmount

	--------------

	Connection type detection needs to be brought back for all platforms in the SDK. On linux, connection type was 0 -> "Unknown"

	--------------

	Extend initial delay on server cruncher and session cruncher for 120. This will delay them from becoming active until they have had a full minute + to calculate sessions

	--------------

	Session counts on relays being 8 when relay backend restarts seems a bit suspicious. Are we not decrementing session counts somewhere?

	--------------













Finalize load test:

	-------------------

	*** Why are sessions not taking network next in load test? ***

	-----------------

	Change analytics to perform bulk inserts instead of streaming inserts.

	Bulk inserts are free.
	
	https://cloud.google.com/bigquery/docs/write-api-batch

	-------------------

	Setup google beta provider and set the tier 1 bandwidth on the server backend.

		network_performance_config {
			total_egress_bandwidth_tier = "TIER_1"
		}

	------------------

	Make sure that MAX_JITTER and MAX_PACKET_LOSS are set to a low values in staging and prod

	------------------

	Test if the server backend scales better with goroutine per-packet or not

	------------------




























Terraform project setup:

	-----------------------

	Enable:

		Compute Engine API
		Cloud Resource Manager API
		Google Cloud Memorystore for Redis API
		Service Networking API
		Cloud SQL API

	There's a chicken and egg that needs to be fixed around the sql files, the database.bin and the "next tool" not being able to select the env until both the sql and database.bin are up.

	Pain point around SQL, we should try to create the database inside terrafrom ideally. It has problems destroying:

		 Error: Error when reading or editing Database: googleapi: Error 400: Invalid request: failed to delete database "database". Detail: pq: database "database" is being accessed by other users. (Please use psql client to delete database that is not owned by "cloudsqlsuperuser")., invalid

	-----------------------





















Finalize SDK and UE5 plugin:

	------------------

	Update to latest PS4 and PS5 SDK on Windows PC

	Verify that we can build, link and run across PS4

	Verify that we can build, link and run across PS5

	------------------

	Update to latest XDK

	Verify that we can build, link and run across XBoxOne

	Verify that we can build, link and run across SeriesX

	------------------

	Setup PS4 compilation with custom agents

	Setup PS5 compilation with custom agents

	Setup XBoxOne compilation with custom agents

	Setup Series X compilation with custom agents

	------------------

	Get the UE5 plugin back up

	Make sure to include Flush on the server before the server is destroyed

	------------------
















